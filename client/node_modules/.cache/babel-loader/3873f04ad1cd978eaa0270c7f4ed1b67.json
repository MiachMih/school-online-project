{"ast":null,"code":"import _defineProperty from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useDispatch}from\"react-redux\";import styles from\"./Profile.module.css\";import{Container}from\"./Form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function View(props){var label=props.label;return/*#__PURE__*/_jsxs(\"div\",{className:styles[\"info-field\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles.label,children:/*#__PURE__*/_jsx(\"span\",{children:label})}),/*#__PURE__*/_jsx(\"div\",{className:styles.info,children:/*#__PURE__*/_jsx(\"span\",{children:props.children})})]});}export function Edit(props){var label=props.label,value=props.value,name=props.name,type=props.type;return/*#__PURE__*/_jsxs(\"div\",{className:styles[\"info-field\"],children:[/*#__PURE__*/_jsx(\"div\",{className:styles.label,children:/*#__PURE__*/_jsx(\"span\",{children:label})}),/*#__PURE__*/_jsx(\"div\",{className:styles.edit,children:/*#__PURE__*/_jsx(\"input\",{type:type,name:name,onChange:props.onChange,value:value})})]});}export function Editable(props){var viewEditSwitch=props.viewEditSwitch,label=props.label,name=props.name,type=props.type,edit=props.edit;return/*#__PURE__*/_jsx(_Fragment,{children:viewEditSwitch?/*#__PURE__*/_jsx(View,{label:label,children:edit[name]}):/*#__PURE__*/_jsx(Edit,{label:label,name:name,type:type,value:edit[name],onChange:props.onChange})});}export function BasicCard(props){var viewEditSwitch=props.viewEditSwitch;return/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(styles.card,\" \").concat(styles[\"card-body\"]),children:[props.children,/*#__PURE__*/_jsxs(\"div\",{className:styles[\"info-field\"],children:[/*#__PURE__*/_jsx(\"button\",{className:styles.btn,onClick:props.onClick,children:\"Edit\"}),!viewEditSwitch&&/*#__PURE__*/_jsx(\"button\",{className:styles.btn,onClick:props.onSave,children:\"Save\"})]})]});}function Card(props){var profile_data=props.profile_data,_props$editable_list=props.editable_list,editable_list=_props$editable_list===void 0?[]:_props$editable_list,_props$view_list=props.view_list,view_list=_props$view_list===void 0?[]:_props$view_list;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),viewEditSwitch=_useState2[0],setViewEditSwitch=_useState2[1];var _useState3=useState(_objectSpread({},profile_data)),_useState4=_slicedToArray(_useState3,2),edit=_useState4[0],setEdit=_useState4[1];var dispatch=useDispatch();function editHandler(e){return setEdit(_objectSpread(_objectSpread({},edit),{},_defineProperty({},e.target.name,e.target.value)));}useEffect(function(){setEdit(_objectSpread({},profile_data));},[profile_data]);function toggleHandler(){setViewEditSwitch(function(state){return!state;});setEdit(_objectSpread({},profile_data));}function saveHandler(){dispatch(props.saveHandler(edit));}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(BasicCard,{onClick:toggleHandler,onSave:saveHandler,viewEditSwitch:viewEditSwitch,children:[profile_data&&view_list.map(function(item,index){return/*#__PURE__*/_jsx(View,{label:item.label,children:profile_data[item.name]},index);}),profile_data&&editable_list.map(function(item,index){return/*#__PURE__*/_jsx(Editable,{viewEditSwitch:viewEditSwitch,label:item.label,name:item.name,type:item.type,edit:edit,onChange:editHandler},index);})]})});}export default Card;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","styles","Container","View","props","label","info","children","Edit","value","name","type","edit","onChange","Editable","viewEditSwitch","BasicCard","card","btn","onClick","onSave","Card","profile_data","editable_list","view_list","setViewEditSwitch","setEdit","dispatch","editHandler","e","target","toggleHandler","state","saveHandler","map","item","index"],"sources":["C:/webdev/school/school-online-project/client/src/components/form/Profile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport styles from \"./Profile.module.css\";\r\nimport { Container } from \"./Form\";\r\n\r\nexport function View(props) {\r\n  const { label } = props;\r\n  return (\r\n    <div className={styles[\"info-field\"]}>\r\n      <div className={styles.label}>\r\n        <span>{label}</span>\r\n      </div>\r\n      <div className={styles.info}>\r\n        <span>{props.children}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function Edit(props) {\r\n  const { label, value, name, type } = props;\r\n  return (\r\n    <div className={styles[\"info-field\"]}>\r\n      <div className={styles.label}>\r\n        <span>{label}</span>\r\n      </div>\r\n      <div className={styles.edit}>\r\n        <input\r\n          type={type}\r\n          name={name}\r\n          onChange={props.onChange}\r\n          value={value}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function Editable(props) {\r\n  const { viewEditSwitch, label, name, type, edit } = props;\r\n  return (\r\n    <>\r\n      {viewEditSwitch ? (\r\n        <View label={label}>{edit[name]}</View>\r\n      ) : (\r\n        <Edit\r\n          label={label}\r\n          name={name}\r\n          type={type}\r\n          value={edit[name]}\r\n          onChange={props.onChange}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport function BasicCard(props) {\r\n  const { viewEditSwitch } = props;\r\n  return (\r\n    <div className={`${styles.card} ${styles[\"card-body\"]}`}>\r\n      {props.children}\r\n      <div className={styles[\"info-field\"]}>\r\n        <button className={styles.btn} onClick={props.onClick}>\r\n          Edit\r\n        </button>\r\n        {!viewEditSwitch && (\r\n          <button className={styles.btn} onClick={props.onSave}>\r\n            Save\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Card(props) {\r\n  const { profile_data, editable_list = [], view_list = [] } = props;\r\n  const [viewEditSwitch, setViewEditSwitch] = useState(true);\r\n  const [edit, setEdit] = useState({ ...profile_data });\r\n  const dispatch = useDispatch();\r\n  function editHandler(e) {\r\n    return setEdit({ ...edit, [e.target.name]: e.target.value });\r\n  }\r\n\r\n  useEffect(() => {\r\n    setEdit({ ...profile_data });\r\n  }, [profile_data]);\r\n\r\n  function toggleHandler() {\r\n    setViewEditSwitch((state) => {\r\n      return !state;\r\n    });\r\n    setEdit({ ...profile_data });\r\n  }\r\n\r\n  function saveHandler() {\r\n    dispatch(props.saveHandler(edit));\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <BasicCard\r\n        onClick={toggleHandler}\r\n        onSave={saveHandler}\r\n        viewEditSwitch={viewEditSwitch}\r\n      >\r\n        {profile_data &&\r\n          view_list.map((item, index) => {\r\n            return (\r\n              <View key={index} label={item.label}>\r\n                {profile_data[item.name]}\r\n              </View>\r\n            );\r\n          })}\r\n        {profile_data &&\r\n          editable_list.map((item, index) => {\r\n            return (\r\n              <Editable\r\n                key={index}\r\n                viewEditSwitch={viewEditSwitch}\r\n                label={item.label}\r\n                name={item.name}\r\n                type={item.type}\r\n                edit={edit}\r\n                onChange={editHandler}\r\n              />\r\n            );\r\n          })}\r\n      </BasicCard>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":"0YAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,MAAOC,OAAP,KAAmB,sBAAnB,CACA,OAASC,SAAT,KAA0B,QAA1B,C,6IAEA,MAAO,SAASC,KAAT,CAAcC,KAAd,CAAqB,CAC1B,GAAQC,MAAR,CAAkBD,KAAlB,CAAQC,KAAR,CACA,mBACE,aAAK,SAAS,CAAEJ,MAAM,CAAC,YAAD,CAAtB,wBACE,YAAK,SAAS,CAAEA,MAAM,CAACI,KAAvB,uBACE,sBAAOA,KAAP,EADF,EADF,cAIE,YAAK,SAAS,CAAEJ,MAAM,CAACK,IAAvB,uBACE,sBAAOF,KAAK,CAACG,QAAb,EADF,EAJF,GADF,CAUD,CAED,MAAO,SAASC,KAAT,CAAcJ,KAAd,CAAqB,CAC1B,GAAQC,MAAR,CAAqCD,KAArC,CAAQC,KAAR,CAAeI,KAAf,CAAqCL,KAArC,CAAeK,KAAf,CAAsBC,IAAtB,CAAqCN,KAArC,CAAsBM,IAAtB,CAA4BC,IAA5B,CAAqCP,KAArC,CAA4BO,IAA5B,CACA,mBACE,aAAK,SAAS,CAAEV,MAAM,CAAC,YAAD,CAAtB,wBACE,YAAK,SAAS,CAAEA,MAAM,CAACI,KAAvB,uBACE,sBAAOA,KAAP,EADF,EADF,cAIE,YAAK,SAAS,CAAEJ,MAAM,CAACW,IAAvB,uBACE,cACE,IAAI,CAAED,IADR,CAEE,IAAI,CAAED,IAFR,CAGE,QAAQ,CAAEN,KAAK,CAACS,QAHlB,CAIE,KAAK,CAAEJ,KAJT,EADF,EAJF,GADF,CAeD,CAED,MAAO,SAASK,SAAT,CAAkBV,KAAlB,CAAyB,CAC9B,GAAQW,eAAR,CAAoDX,KAApD,CAAQW,cAAR,CAAwBV,KAAxB,CAAoDD,KAApD,CAAwBC,KAAxB,CAA+BK,IAA/B,CAAoDN,KAApD,CAA+BM,IAA/B,CAAqCC,IAArC,CAAoDP,KAApD,CAAqCO,IAArC,CAA2CC,IAA3C,CAAoDR,KAApD,CAA2CQ,IAA3C,CACA,mBACE,yBACGG,cAAc,cACb,KAAC,IAAD,EAAM,KAAK,CAAEV,KAAb,UAAqBO,IAAI,CAACF,IAAD,CAAzB,EADa,cAGb,KAAC,IAAD,EACE,KAAK,CAAEL,KADT,CAEE,IAAI,CAAEK,IAFR,CAGE,IAAI,CAAEC,IAHR,CAIE,KAAK,CAAEC,IAAI,CAACF,IAAD,CAJb,CAKE,QAAQ,CAAEN,KAAK,CAACS,QALlB,EAJJ,EADF,CAeD,CAED,MAAO,SAASG,UAAT,CAAmBZ,KAAnB,CAA0B,CAC/B,GAAQW,eAAR,CAA2BX,KAA3B,CAAQW,cAAR,CACA,mBACE,aAAK,SAAS,WAAKd,MAAM,CAACgB,IAAZ,aAAoBhB,MAAM,CAAC,WAAD,CAA1B,CAAd,WACGG,KAAK,CAACG,QADT,cAEE,aAAK,SAAS,CAAEN,MAAM,CAAC,YAAD,CAAtB,wBACE,eAAQ,SAAS,CAAEA,MAAM,CAACiB,GAA1B,CAA+B,OAAO,CAAEd,KAAK,CAACe,OAA9C,kBADF,CAIG,CAACJ,cAAD,eACC,eAAQ,SAAS,CAAEd,MAAM,CAACiB,GAA1B,CAA+B,OAAO,CAAEd,KAAK,CAACgB,MAA9C,kBALJ,GAFF,GADF,CAeD,CAED,QAASC,KAAT,CAAcjB,KAAd,CAAqB,CACnB,GAAQkB,aAAR,CAA6DlB,KAA7D,CAAQkB,YAAR,sBAA6DlB,KAA7D,CAAsBmB,aAAtB,CAAsBA,aAAtB,+BAAsC,EAAtC,uCAA6DnB,KAA7D,CAA0CoB,SAA1C,CAA0CA,SAA1C,2BAAsD,EAAtD,kBACA,cAA4CzB,QAAQ,CAAC,IAAD,CAApD,wCAAOgB,cAAP,eAAuBU,iBAAvB,eACA,eAAwB1B,QAAQ,kBAAMuB,YAAN,EAAhC,yCAAOV,IAAP,eAAac,OAAb,eACA,GAAMC,SAAQ,CAAG3B,WAAW,EAA5B,CACA,QAAS4B,YAAT,CAAqBC,CAArB,CAAwB,CACtB,MAAOH,QAAO,gCAAMd,IAAN,wBAAaiB,CAAC,CAACC,MAAF,CAASpB,IAAtB,CAA6BmB,CAAC,CAACC,MAAF,CAASrB,KAAtC,GAAd,CACD,CAEDX,SAAS,CAAC,UAAM,CACd4B,OAAO,kBAAMJ,YAAN,EAAP,CACD,CAFQ,CAEN,CAACA,YAAD,CAFM,CAAT,CAIA,QAASS,cAAT,EAAyB,CACvBN,iBAAiB,CAAC,SAACO,KAAD,CAAW,CAC3B,MAAO,CAACA,KAAR,CACD,CAFgB,CAAjB,CAGAN,OAAO,kBAAMJ,YAAN,EAAP,CACD,CAED,QAASW,YAAT,EAAuB,CACrBN,QAAQ,CAACvB,KAAK,CAAC6B,WAAN,CAAkBrB,IAAlB,CAAD,CAAR,CACD,CAED,mBACE,KAAC,SAAD,wBACE,MAAC,SAAD,EACE,OAAO,CAAEmB,aADX,CAEE,MAAM,CAAEE,WAFV,CAGE,cAAc,CAAElB,cAHlB,WAKGO,YAAY,EACXE,SAAS,CAACU,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CAC7B,mBACE,KAAC,IAAD,EAAkB,KAAK,CAAED,IAAI,CAAC9B,KAA9B,UACGiB,YAAY,CAACa,IAAI,CAACzB,IAAN,CADf,EAAW0B,KAAX,CADF,CAKD,CAND,CANJ,CAaGd,YAAY,EACXC,aAAa,CAACW,GAAd,CAAkB,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACjC,mBACE,KAAC,QAAD,EAEE,cAAc,CAAErB,cAFlB,CAGE,KAAK,CAAEoB,IAAI,CAAC9B,KAHd,CAIE,IAAI,CAAE8B,IAAI,CAACzB,IAJb,CAKE,IAAI,CAAEyB,IAAI,CAACxB,IALb,CAME,IAAI,CAAEC,IANR,CAOE,QAAQ,CAAEgB,WAPZ,EACOQ,KADP,CADF,CAWD,CAZD,CAdJ,GADF,EADF,CAgCD,CAED,cAAef,KAAf"},"metadata":{},"sourceType":"module"}