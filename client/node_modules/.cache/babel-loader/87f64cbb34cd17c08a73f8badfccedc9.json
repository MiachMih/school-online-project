{"ast":null,"code":"export const initialState = {\n  loading: true,\n  userInfo: {},\n  isNew: true\n};\nexport function saveUserInfo(state, action) {\n  const userInfo = action.payload;\n  return { ...state,\n    userInfo,\n    isNew: true\n  };\n}\nexport function startLoading(state) {\n  return { ...state,\n    loading: true\n  };\n}\nexport function endLoading(state) {\n  return { ...state,\n    loading: false\n  };\n}\nexport function create(state, action) {\n  const {\n    result,\n    token\n  } = action.payload;\n  localStorage.setItem(\"profile\", JSON.stringify({\n    token\n  }));\n  return { ...state,\n    userInfo: result,\n    loading: false,\n    isNew: true\n  };\n}\nexport function logout(state) {\n  localStorage.clear();\n  return { ...state,\n    ...initialState\n  };\n}\nexport function setOld(state) {\n  return { ...state,\n    isNew: false\n  };\n}","map":{"version":3,"names":["initialState","loading","userInfo","isNew","saveUserInfo","state","action","payload","startLoading","endLoading","create","result","token","localStorage","setItem","JSON","stringify","logout","clear","setOld"],"sources":["C:/webdev/school/school-online-project/client/src/store/utility-functions.js"],"sourcesContent":["export const initialState = { loading: true, userInfo: {}, isNew: true };\r\n\r\nexport function saveUserInfo(state, action) {\r\n  const userInfo = action.payload;\r\n  return { ...state, userInfo, isNew: true };\r\n}\r\n\r\nexport function startLoading(state) {\r\n  return { ...state, loading: true };\r\n}\r\n\r\nexport function endLoading(state) {\r\n  return { ...state, loading: false };\r\n}\r\n\r\nexport function create(state, action) {\r\n  const { result, token } = action.payload;\r\n  localStorage.setItem(\"profile\", JSON.stringify({ token }));\r\n  return { ...state, userInfo: result, loading: false, isNew: true };\r\n}\r\n\r\nexport function logout(state) {\r\n  localStorage.clear();\r\n  return { ...state, ...initialState };\r\n}\r\n\r\nexport function setOld(state) {\r\n  return { ...state, isNew: false };\r\n}\r\n"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;EAAEC,OAAO,EAAE,IAAX;EAAiBC,QAAQ,EAAE,EAA3B;EAA+BC,KAAK,EAAE;AAAtC,CAArB;AAEP,OAAO,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAqC;EAC1C,MAAMJ,QAAQ,GAAGI,MAAM,CAACC,OAAxB;EACA,OAAO,EAAE,GAAGF,KAAL;IAAYH,QAAZ;IAAsBC,KAAK,EAAE;EAA7B,CAAP;AACD;AAED,OAAO,SAASK,YAAT,CAAsBH,KAAtB,EAA6B;EAClC,OAAO,EAAE,GAAGA,KAAL;IAAYJ,OAAO,EAAE;EAArB,CAAP;AACD;AAED,OAAO,SAASQ,UAAT,CAAoBJ,KAApB,EAA2B;EAChC,OAAO,EAAE,GAAGA,KAAL;IAAYJ,OAAO,EAAE;EAArB,CAAP;AACD;AAED,OAAO,SAASS,MAAT,CAAgBL,KAAhB,EAAuBC,MAAvB,EAA+B;EACpC,MAAM;IAAEK,MAAF;IAAUC;EAAV,IAAoBN,MAAM,CAACC,OAAjC;EACAM,YAAY,CAACC,OAAb,CAAqB,SAArB,EAAgCC,IAAI,CAACC,SAAL,CAAe;IAAEJ;EAAF,CAAf,CAAhC;EACA,OAAO,EAAE,GAAGP,KAAL;IAAYH,QAAQ,EAAES,MAAtB;IAA8BV,OAAO,EAAE,KAAvC;IAA8CE,KAAK,EAAE;EAArD,CAAP;AACD;AAED,OAAO,SAASc,MAAT,CAAgBZ,KAAhB,EAAuB;EAC5BQ,YAAY,CAACK,KAAb;EACA,OAAO,EAAE,GAAGb,KAAL;IAAY,GAAGL;EAAf,CAAP;AACD;AAED,OAAO,SAASmB,MAAT,CAAgBd,KAAhB,EAAuB;EAC5B,OAAO,EAAE,GAAGA,KAAL;IAAYF,KAAK,EAAE;EAAnB,CAAP;AACD"},"metadata":{},"sourceType":"module"}