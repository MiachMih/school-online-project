{"ast":null,"code":"import _regeneratorRuntime from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from\"react\";import Form,{Input,File}from\"../../form/Form\";import{useDispatch}from\"react-redux\";import{addAnnouncement}from\"../../../store/announcement-slice\";import{Container}from\"../../form/Form\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Announcement(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),img=_useState2[0],setImg=_useState2[1];var dispatch=useDispatch();var headRef=useRef();var msgRef=useRef();function submitHandler(_x){return _submitHandler.apply(this,arguments);}function _submitHandler(){_submitHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();data={header:headRef.current.value,message:msgRef.current.value,img:img};_context.prev=2;_context.next=5;return dispatch(addAnnouncement(data));case 5:_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](2);return _context.abrupt(\"return\");case 10:e.target.reset();case 11:case\"end\":return _context.stop();}}},_callee,null,[[2,7]]);}));return _submitHandler.apply(this,arguments);}return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{btnName:\"Submit\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(Input,{ref:headRef,type:\"text\",children:\"Header\"}),/*#__PURE__*/_jsx(Input,{ref:msgRef,type:\"textarea\",children:\"Message\"}),/*#__PURE__*/_jsx(File,{setImg:setImg,children:\"Picture\"})]})});}export default Announcement;","map":{"version":3,"names":["React","useRef","useState","Form","Input","File","useDispatch","addAnnouncement","Container","Announcement","img","setImg","dispatch","headRef","msgRef","submitHandler","e","preventDefault","data","header","current","value","message","target","reset"],"sources":["C:/webdev/school/school-online-project/client/src/components/teacher/announcement/Announcement.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport Form, { Input, File } from \"../../form/Form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addAnnouncement } from \"../../../store/announcement-slice\";\r\nimport { Container } from \"../../form/Form\";\r\n\r\nfunction Announcement() {\r\n  const [img, setImg] = useState(\"\");\r\n  const dispatch = useDispatch();\r\n  const headRef = useRef();\r\n  const msgRef = useRef();\r\n\r\n  async function submitHandler(e) {\r\n    e.preventDefault();\r\n    const data = {\r\n      header: headRef.current.value,\r\n      message: msgRef.current.value,\r\n      img,\r\n    };\r\n    try {\r\n      await dispatch(addAnnouncement(data));\r\n    } catch (err) {\r\n      return;\r\n    }\r\n    e.target.reset();\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <Form btnName=\"Submit\" onSubmit={submitHandler}>\r\n        <Input ref={headRef} type=\"text\">\r\n          Header\r\n        </Input>\r\n        <Input ref={msgRef} type=\"textarea\">\r\n          Message\r\n        </Input>\r\n        <File setImg={setImg}>Picture</File>\r\n      </Form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Announcement;\r\n"],"mappings":"yZAAA,MAAOA,MAAP,EAAgBC,MAAhB,CAAwBC,QAAxB,KAAwC,OAAxC,CACA,MAAOC,KAAP,EAAeC,KAAf,CAAsBC,IAAtB,KAAkC,iBAAlC,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,eAAT,KAAgC,mCAAhC,CACA,OAASC,SAAT,KAA0B,iBAA1B,C,wFAEA,QAASC,aAAT,EAAwB,CACtB,cAAsBP,QAAQ,CAAC,EAAD,CAA9B,wCAAOQ,GAAP,eAAYC,MAAZ,eACA,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CACA,GAAMO,QAAO,CAAGZ,MAAM,EAAtB,CACA,GAAMa,OAAM,CAAGb,MAAM,EAArB,CAJsB,QAMPc,cANO,qJAMtB,iBAA6BC,CAA7B,6HACEA,CAAC,CAACC,cAAF,GACMC,IAFR,CAEe,CACXC,MAAM,CAAEN,OAAO,CAACO,OAAR,CAAgBC,KADb,CAEXC,OAAO,CAAER,MAAM,CAACM,OAAP,CAAeC,KAFb,CAGXX,GAAG,CAAHA,GAHW,CAFf,uCAQUE,SAAQ,CAACL,eAAe,CAACW,IAAD,CAAhB,CARlB,gIAYEF,CAAC,CAACO,MAAF,CAASC,KAAT,GAZF,oEANsB,gDAqBtB,mBACE,KAAC,SAAD,wBACE,MAAC,IAAD,EAAM,OAAO,CAAC,QAAd,CAAuB,QAAQ,CAAET,aAAjC,wBACE,KAAC,KAAD,EAAO,GAAG,CAAEF,OAAZ,CAAqB,IAAI,CAAC,MAA1B,oBADF,cAIE,KAAC,KAAD,EAAO,GAAG,CAAEC,MAAZ,CAAoB,IAAI,CAAC,UAAzB,qBAJF,cAOE,KAAC,IAAD,EAAM,MAAM,CAAEH,MAAd,qBAPF,GADF,EADF,CAaD,CAED,cAAeF,aAAf"},"metadata":{},"sourceType":"module"}