{"ast":null,"code":"import _regeneratorRuntime from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{fetchSubjects}from\"../../../store/classes-slice\";import Form,{SingleDropdown}from\"../../form/Form\";import{jsx as _jsx}from\"react/jsx-runtime\";function Search(){var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),options=_useState2[0],setOptions=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),subject=_useState4[0],setSubject=_useState4[1];var navigate=useNavigate();useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return dispatch(fetchSubjects());case 2:response=_context.sent;result=response.map(function(item){return{key:item.name,value:item.name,text:item.name};});setOptions(result);case 5:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);function submitHandler(e){e.preventDefault();var newRoute=\"/student/add-classes/\"+subject;return navigate(newRoute,{replace:true});}function clickHandler(e){setSubject(e.target.textContent);}return/*#__PURE__*/_jsx(Form,{btnName:\"Search\",onSubmit:submitHandler,children:/*#__PURE__*/_jsx(SingleDropdown,{options:options,onChange:clickHandler,children:\"Search by Subject\"})});}export default Search;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","useDispatch","fetchSubjects","Form","SingleDropdown","Search","dispatch","options","setOptions","subject","setSubject","navigate","fetchData","response","result","map","item","key","name","value","text","submitHandler","e","preventDefault","newRoute","replace","clickHandler","target","textContent"],"sources":["C:/webdev/school/school-online-project/client/src/components/student/add-classes/Search.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { fetchSubjects } from \"../../../store/classes-slice\";\r\nimport Form, { SingleDropdown } from \"../../form/Form\";\r\n\r\nfunction Search() {\r\n  const dispatch = useDispatch();\r\n  const [options, setOptions] = useState([]);\r\n  const [subject, setSubject] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const response = await dispatch(fetchSubjects());\r\n      const result = response.map((item) => {\r\n        return { key: item.name, value: item.name, text: item.name };\r\n      });\r\n      setOptions(result);\r\n    }\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  function submitHandler(e) {\r\n    e.preventDefault();\r\n    const newRoute = \"/student/add-classes/\" + subject;\r\n    return navigate(newRoute, { replace: true });\r\n  }\r\n\r\n  function clickHandler(e) {\r\n    setSubject(e.target.textContent);\r\n  }\r\n\r\n  return (\r\n    <Form btnName=\"Search\" onSubmit={submitHandler}>\r\n      <SingleDropdown options={options} onChange={clickHandler}>\r\n        Search by Subject\r\n      </SingleDropdown>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n"],"mappings":"yZAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,aAAT,KAA8B,8BAA9B,CACA,MAAOC,KAAP,EAAeC,cAAf,KAAqC,iBAArC,C,2CAEA,QAASC,OAAT,EAAkB,CAChB,GAAMC,SAAQ,CAAGL,WAAW,EAA5B,CACA,cAA8BF,QAAQ,CAAC,EAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,eAA8BT,QAAQ,CAAC,EAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,GAAMC,SAAQ,CAAGX,WAAW,EAA5B,CAEAF,SAAS,CAAC,UAAM,SACCc,UADD,uIACd,+KACyBN,SAAQ,CAACJ,aAAa,EAAd,CADjC,QACQW,QADR,eAEQC,MAFR,CAEiBD,QAAQ,CAACE,GAAT,CAAa,SAACC,IAAD,CAAU,CACpC,MAAO,CAAEC,GAAG,CAAED,IAAI,CAACE,IAAZ,CAAkBC,KAAK,CAAEH,IAAI,CAACE,IAA9B,CAAoCE,IAAI,CAAEJ,IAAI,CAACE,IAA/C,CAAP,CACD,CAFc,CAFjB,CAKEV,UAAU,CAACM,MAAD,CAAV,CALF,sDADc,4CASdF,SAAS,GACV,CAVQ,CAUN,EAVM,CAAT,CAYA,QAASS,cAAT,CAAuBC,CAAvB,CAA0B,CACxBA,CAAC,CAACC,cAAF,GACA,GAAMC,SAAQ,CAAG,wBAA0Bf,OAA3C,CACA,MAAOE,SAAQ,CAACa,QAAD,CAAW,CAAEC,OAAO,CAAE,IAAX,CAAX,CAAf,CACD,CAED,QAASC,aAAT,CAAsBJ,CAAtB,CAAyB,CACvBZ,UAAU,CAACY,CAAC,CAACK,MAAF,CAASC,WAAV,CAAV,CACD,CAED,mBACE,KAAC,IAAD,EAAM,OAAO,CAAC,QAAd,CAAuB,QAAQ,CAAEP,aAAjC,uBACE,KAAC,cAAD,EAAgB,OAAO,CAAEd,OAAzB,CAAkC,QAAQ,CAAEmB,YAA5C,+BADF,EADF,CAOD,CAED,cAAerB,OAAf"},"metadata":{},"sourceType":"module"}