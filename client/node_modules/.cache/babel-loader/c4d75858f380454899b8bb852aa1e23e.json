{"ast":null,"code":"import _includes from \"lodash-es/includes\";\nimport _find from \"lodash-es/find\";\nimport _findIndex from \"lodash-es/findIndex\";\nimport _reduce from \"lodash-es/reduce\";\nimport getMenuOptions from './getMenuOptions';\nexport default function getSelectedIndex(config) {\n  var additionLabel = config.additionLabel,\n      additionPosition = config.additionPosition,\n      allowAdditions = config.allowAdditions,\n      deburr = config.deburr,\n      multiple = config.multiple,\n      options = config.options,\n      search = config.search,\n      searchQuery = config.searchQuery,\n      selectedIndex = config.selectedIndex,\n      value = config.value;\n  var menuOptions = getMenuOptions({\n    value: value,\n    options: options,\n    searchQuery: searchQuery,\n    additionLabel: additionLabel,\n    additionPosition: additionPosition,\n    allowAdditions: allowAdditions,\n    deburr: deburr,\n    multiple: multiple,\n    search: search\n  });\n\n  var enabledIndexes = _reduce(menuOptions, function (memo, item, index) {\n    if (!item.disabled) memo.push(index);\n    return memo;\n  }, []);\n\n  var newSelectedIndex; // update the selected index\n\n  if (!selectedIndex || selectedIndex < 0) {\n    var firstIndex = enabledIndexes[0]; // Select the currently active item, if none, use the first item.\n    // Multiple selects remove active items from the list,\n    // their initial selected index should be 0.\n\n    newSelectedIndex = multiple ? firstIndex : _findIndex(menuOptions, ['value', value]) || enabledIndexes[0];\n  } else if (multiple) {\n    newSelectedIndex = _find(enabledIndexes, function (index) {\n      return index >= selectedIndex;\n    }); // multiple selects remove options from the menu as they are made active\n    // keep the selected index within range of the remaining items\n\n    if (selectedIndex >= menuOptions.length - 1) {\n      newSelectedIndex = enabledIndexes[enabledIndexes.length - 1];\n    }\n  } else {\n    var activeIndex = _findIndex(menuOptions, ['value', value]); // regular selects can only have one active item\n    // set the selected index to the currently active item\n\n\n    newSelectedIndex = _includes(enabledIndexes, activeIndex) ? activeIndex : undefined;\n  }\n\n  if (!newSelectedIndex || newSelectedIndex < 0) {\n    newSelectedIndex = enabledIndexes[0];\n  }\n\n  return newSelectedIndex;\n}","map":{"version":3,"names":["_includes","_find","_findIndex","_reduce","getMenuOptions","getSelectedIndex","config","additionLabel","additionPosition","allowAdditions","deburr","multiple","options","search","searchQuery","selectedIndex","value","menuOptions","enabledIndexes","memo","item","index","disabled","push","newSelectedIndex","firstIndex","length","activeIndex","undefined"],"sources":["C:/webdev/school/school-online-project/client/node_modules/semantic-ui-react/dist/es/modules/Dropdown/utils/getSelectedIndex.js"],"sourcesContent":["import _includes from \"lodash-es/includes\";\r\nimport _find from \"lodash-es/find\";\r\nimport _findIndex from \"lodash-es/findIndex\";\r\nimport _reduce from \"lodash-es/reduce\";\r\nimport getMenuOptions from './getMenuOptions';\r\nexport default function getSelectedIndex(config) {\r\n  var additionLabel = config.additionLabel,\r\n      additionPosition = config.additionPosition,\r\n      allowAdditions = config.allowAdditions,\r\n      deburr = config.deburr,\r\n      multiple = config.multiple,\r\n      options = config.options,\r\n      search = config.search,\r\n      searchQuery = config.searchQuery,\r\n      selectedIndex = config.selectedIndex,\r\n      value = config.value;\r\n  var menuOptions = getMenuOptions({\r\n    value: value,\r\n    options: options,\r\n    searchQuery: searchQuery,\r\n    additionLabel: additionLabel,\r\n    additionPosition: additionPosition,\r\n    allowAdditions: allowAdditions,\r\n    deburr: deburr,\r\n    multiple: multiple,\r\n    search: search\r\n  });\r\n\r\n  var enabledIndexes = _reduce(menuOptions, function (memo, item, index) {\r\n    if (!item.disabled) memo.push(index);\r\n    return memo;\r\n  }, []);\r\n\r\n  var newSelectedIndex; // update the selected index\r\n\r\n  if (!selectedIndex || selectedIndex < 0) {\r\n    var firstIndex = enabledIndexes[0]; // Select the currently active item, if none, use the first item.\r\n    // Multiple selects remove active items from the list,\r\n    // their initial selected index should be 0.\r\n\r\n    newSelectedIndex = multiple ? firstIndex : _findIndex(menuOptions, ['value', value]) || enabledIndexes[0];\r\n  } else if (multiple) {\r\n    newSelectedIndex = _find(enabledIndexes, function (index) {\r\n      return index >= selectedIndex;\r\n    }); // multiple selects remove options from the menu as they are made active\r\n    // keep the selected index within range of the remaining items\r\n\r\n    if (selectedIndex >= menuOptions.length - 1) {\r\n      newSelectedIndex = enabledIndexes[enabledIndexes.length - 1];\r\n    }\r\n  } else {\r\n    var activeIndex = _findIndex(menuOptions, ['value', value]); // regular selects can only have one active item\r\n    // set the selected index to the currently active item\r\n\r\n\r\n    newSelectedIndex = _includes(enabledIndexes, activeIndex) ? activeIndex : undefined;\r\n  }\r\n\r\n  if (!newSelectedIndex || newSelectedIndex < 0) {\r\n    newSelectedIndex = enabledIndexes[0];\r\n  }\r\n\r\n  return newSelectedIndex;\r\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,oBAAtB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,eAAe,SAASC,gBAAT,CAA0BC,MAA1B,EAAkC;EAC/C,IAAIC,aAAa,GAAGD,MAAM,CAACC,aAA3B;EAAA,IACIC,gBAAgB,GAAGF,MAAM,CAACE,gBAD9B;EAAA,IAEIC,cAAc,GAAGH,MAAM,CAACG,cAF5B;EAAA,IAGIC,MAAM,GAAGJ,MAAM,CAACI,MAHpB;EAAA,IAIIC,QAAQ,GAAGL,MAAM,CAACK,QAJtB;EAAA,IAKIC,OAAO,GAAGN,MAAM,CAACM,OALrB;EAAA,IAMIC,MAAM,GAAGP,MAAM,CAACO,MANpB;EAAA,IAOIC,WAAW,GAAGR,MAAM,CAACQ,WAPzB;EAAA,IAQIC,aAAa,GAAGT,MAAM,CAACS,aAR3B;EAAA,IASIC,KAAK,GAAGV,MAAM,CAACU,KATnB;EAUA,IAAIC,WAAW,GAAGb,cAAc,CAAC;IAC/BY,KAAK,EAAEA,KADwB;IAE/BJ,OAAO,EAAEA,OAFsB;IAG/BE,WAAW,EAAEA,WAHkB;IAI/BP,aAAa,EAAEA,aAJgB;IAK/BC,gBAAgB,EAAEA,gBALa;IAM/BC,cAAc,EAAEA,cANe;IAO/BC,MAAM,EAAEA,MAPuB;IAQ/BC,QAAQ,EAAEA,QARqB;IAS/BE,MAAM,EAAEA;EATuB,CAAD,CAAhC;;EAYA,IAAIK,cAAc,GAAGf,OAAO,CAACc,WAAD,EAAc,UAAUE,IAAV,EAAgBC,IAAhB,EAAsBC,KAAtB,EAA6B;IACrE,IAAI,CAACD,IAAI,CAACE,QAAV,EAAoBH,IAAI,CAACI,IAAL,CAAUF,KAAV;IACpB,OAAOF,IAAP;EACD,CAH2B,EAGzB,EAHyB,CAA5B;;EAKA,IAAIK,gBAAJ,CA5B+C,CA4BzB;;EAEtB,IAAI,CAACT,aAAD,IAAkBA,aAAa,GAAG,CAAtC,EAAyC;IACvC,IAAIU,UAAU,GAAGP,cAAc,CAAC,CAAD,CAA/B,CADuC,CACH;IACpC;IACA;;IAEAM,gBAAgB,GAAGb,QAAQ,GAAGc,UAAH,GAAgBvB,UAAU,CAACe,WAAD,EAAc,CAAC,OAAD,EAAUD,KAAV,CAAd,CAAV,IAA6CE,cAAc,CAAC,CAAD,CAAtG;EACD,CAND,MAMO,IAAIP,QAAJ,EAAc;IACnBa,gBAAgB,GAAGvB,KAAK,CAACiB,cAAD,EAAiB,UAAUG,KAAV,EAAiB;MACxD,OAAOA,KAAK,IAAIN,aAAhB;IACD,CAFuB,CAAxB,CADmB,CAGf;IACJ;;IAEA,IAAIA,aAAa,IAAIE,WAAW,CAACS,MAAZ,GAAqB,CAA1C,EAA6C;MAC3CF,gBAAgB,GAAGN,cAAc,CAACA,cAAc,CAACQ,MAAf,GAAwB,CAAzB,CAAjC;IACD;EACF,CATM,MASA;IACL,IAAIC,WAAW,GAAGzB,UAAU,CAACe,WAAD,EAAc,CAAC,OAAD,EAAUD,KAAV,CAAd,CAA5B,CADK,CACwD;IAC7D;;;IAGAQ,gBAAgB,GAAGxB,SAAS,CAACkB,cAAD,EAAiBS,WAAjB,CAAT,GAAyCA,WAAzC,GAAuDC,SAA1E;EACD;;EAED,IAAI,CAACJ,gBAAD,IAAqBA,gBAAgB,GAAG,CAA5C,EAA+C;IAC7CA,gBAAgB,GAAGN,cAAc,CAAC,CAAD,CAAjC;EACD;;EAED,OAAOM,gBAAP;AACD"},"metadata":{},"sourceType":"module"}