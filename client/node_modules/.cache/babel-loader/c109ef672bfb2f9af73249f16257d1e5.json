{"ast":null,"code":"import _regeneratorRuntime from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/webdev/school/school-online-project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{userActions}from\"./user-slice\";import*as api from\"../api/teacher\";export var updateTeacher=function updateTeacher(data){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var teacherInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch(userActions.startLoading());_context.next=4;return api.updateTeacher(data);case 4:teacherInfo=_context.sent;dispatch(userActions.create(teacherInfo.data));_context.next=10;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var fetchTeacher=function fetchTeacher(navigate){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var teacherInfo;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch(userActions.startLoading());_context2.next=4;return api.fetchTeacher();case 4:teacherInfo=_context2.sent;dispatch(userActions.saveUserInfo(teacherInfo.data.result));dispatch(userActions.setOld());dispatch(userActions.endLoading());_context2.next=14;break;case 10:_context2.prev=10;_context2.t0=_context2[\"catch\"](0);console.log(_context2.t0.response.data.message);navigate(\"/login\",{replace:true});case 14:case\"end\":return _context2.stop();}}},_callee2,null,[[0,10]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var loginTeacher=function loginTeacher(loginData,navigate){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.loginTeacher(loginData);case 3:response=_context3.sent;dispatch(userActions.create(response.data));navigate(\"/teacher\",{replace:true});_context3.next=10;break;case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);case 10:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var signUpTeacher=function signUpTeacher(signUpData,navigate){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(dispatch){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return api.signUpTeacher(signUpData);case 3:response=_context4.sent;dispatch(userActions.create(response.data));navigate(\"/teacher\",{replace:true});_context4.next=10;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};","map":{"version":3,"names":["userActions","api","updateTeacher","data","dispatch","startLoading","teacherInfo","create","fetchTeacher","navigate","saveUserInfo","result","setOld","endLoading","console","log","response","message","replace","loginTeacher","loginData","signUpTeacher","signUpData"],"sources":["C:/webdev/school/school-online-project/client/src/store/teacher-slice.js"],"sourcesContent":["import { userActions } from \"./user-slice\";\r\nimport * as api from \"../api/teacher\";\r\n\r\nexport const updateTeacher = (data) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(userActions.startLoading());\r\n      const teacherInfo = await api.updateTeacher(data);\r\n      dispatch(userActions.create(teacherInfo.data));\r\n    } catch (error) {}\r\n  };\r\n};\r\n\r\nexport const fetchTeacher = (navigate) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch(userActions.startLoading());\r\n      const teacherInfo = await api.fetchTeacher();\r\n      dispatch(userActions.saveUserInfo(teacherInfo.data.result));\r\n      dispatch(userActions.setOld());\r\n      dispatch(userActions.endLoading());\r\n    } catch (error) {\r\n      console.log(error.response.data.message);\r\n      navigate(\"/login\", { replace: true });\r\n    }\r\n  };\r\n};\r\n\r\nexport const loginTeacher = (loginData, navigate) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await api.loginTeacher(loginData);\r\n      dispatch(userActions.create(response.data));\r\n      navigate(\"/teacher\", { replace: true });\r\n    } catch (error) {}\r\n  };\r\n};\r\n\r\nexport const signUpTeacher = (signUpData, navigate) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const response = await api.signUpTeacher(signUpData);\r\n      dispatch(userActions.create(response.data));\r\n      navigate(\"/teacher\", { replace: true });\r\n    } catch (error) {}\r\n  };\r\n};\r\n"],"mappings":"sRAAA,OAASA,WAAT,KAA4B,cAA5B,CACA,MAAO,GAAKC,IAAZ,KAAqB,gBAArB,CAEA,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,IAAD,CAAU,CACrC,iGAAO,iBAAOC,QAAP,oJAEHA,QAAQ,CAACJ,WAAW,CAACK,YAAZ,EAAD,CAAR,CAFG,sBAGuBJ,IAAG,CAACC,aAAJ,CAAkBC,IAAlB,CAHvB,QAGGG,WAHH,eAIHF,QAAQ,CAACJ,WAAW,CAACO,MAAZ,CAAmBD,WAAW,CAACH,IAA/B,CAAD,CAAR,CAJG,mJAAP,+DAOD,CARM,CAUP,MAAO,IAAMK,aAAY,CAAG,QAAfA,aAAe,CAACC,QAAD,CAAc,CACxC,kGAAO,kBAAOL,QAAP,yJAEHA,QAAQ,CAACJ,WAAW,CAACK,YAAZ,EAAD,CAAR,CAFG,uBAGuBJ,IAAG,CAACO,YAAJ,EAHvB,QAGGF,WAHH,gBAIHF,QAAQ,CAACJ,WAAW,CAACU,YAAZ,CAAyBJ,WAAW,CAACH,IAAZ,CAAiBQ,MAA1C,CAAD,CAAR,CACAP,QAAQ,CAACJ,WAAW,CAACY,MAAZ,EAAD,CAAR,CACAR,QAAQ,CAACJ,WAAW,CAACa,UAAZ,EAAD,CAAR,CANG,qFAQHC,OAAO,CAACC,GAAR,CAAY,aAAMC,QAAN,CAAeb,IAAf,CAAoBc,OAAhC,EACAR,QAAQ,CAAC,QAAD,CAAW,CAAES,OAAO,CAAE,IAAX,CAAX,CAAR,CATG,uEAAP,iEAYD,CAbM,CAeP,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,SAAD,CAAYX,QAAZ,CAAyB,CACnD,kGAAO,kBAAOL,QAAP,6KAEoBH,IAAG,CAACkB,YAAJ,CAAiBC,SAAjB,CAFpB,QAEGJ,QAFH,gBAGHZ,QAAQ,CAACJ,WAAW,CAACO,MAAZ,CAAmBS,QAAQ,CAACb,IAA5B,CAAD,CAAR,CACAM,QAAQ,CAAC,UAAD,CAAa,CAAES,OAAO,CAAE,IAAX,CAAb,CAAR,CAJG,yJAAP,iEAOD,CARM,CAUP,MAAO,IAAMG,cAAa,CAAG,QAAhBA,cAAgB,CAACC,UAAD,CAAab,QAAb,CAA0B,CACrD,kGAAO,kBAAOL,QAAP,6KAEoBH,IAAG,CAACoB,aAAJ,CAAkBC,UAAlB,CAFpB,QAEGN,QAFH,gBAGHZ,QAAQ,CAACJ,WAAW,CAACO,MAAZ,CAAmBS,QAAQ,CAACb,IAA5B,CAAD,CAAR,CACAM,QAAQ,CAAC,UAAD,CAAa,CAAES,OAAO,CAAE,IAAX,CAAb,CAAR,CAJG,yJAAP,iEAOD,CARM"},"metadata":{},"sourceType":"module"}